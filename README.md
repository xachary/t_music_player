# T Music Player（TMPlayer）

<b>喜欢请送我一个Star吧！</b>

<b>喜欢请送我一个Star吧！</b>

<b>喜欢请送我一个Star吧！</b>

<img width="192" height="192" alt="launcher_icon" src="https://github.com/user-attachments/assets/29f01b3a-d28f-430e-8efe-93c36c3c3895" />

这是一款完全离线的【<b>安卓</b>】音乐播放器App，适用于追求纯粹听歌体验的朋友们。如果你有自己的音乐文件库，本应用也许适合你。

[APK免费下载](https://github.com/xachary/t_music_player/releases)

播放自己的音乐库，再也不需要联网、不需要看一堆广告、不需要看一堆个性化推荐。。。

![Screenshot](https://github.com/user-attachments/assets/35573171-cadb-4a47-bf2e-e2c05ee6b56a)

<img width="1449" height="527" alt="image" src="https://github.com/user-attachments/assets/6892da62-c59a-4747-87dc-97c8298c5a9d" />

![Screenshot_2025-08-25-17-12-12-11_a17349a9ab8e7918c0ec2c3decfbc1da_副本](https://github.com/user-attachments/assets/c389b608-fc71-4ad9-ba8e-bfa62705aceb)

![Screenshot_2025-08-25-17-04-52-81_a17349a9ab8e7918c0ec2c3decfbc1da_副本](https://github.com/user-attachments/assets/a6a3700d-2099-4d97-8566-5db6edd60173)


应用市场上架太麻烦了，又要认证、软著、备案、隐私协议等等流程和费用。

本App只是一个以非盈利为目的，满足了个人欣赏音乐的需要开发的简单App。

既然做出来了，自己独享有点可惜，所以就分享出来！

## 选择扫描目录
为了扫描歌曲目录，建立音乐库、读取歌曲封面，会需要2个权限：
- 音频文件
- 所有文件访问权限

为了支持蓝牙歌曲信息推送、断连停止播放，会需要1个权限：
- 附近的设备

## 歌曲名和艺术家信息的识别
本应用直接通过文件名匹配，同路径下的同名图片可作为歌曲封面显示，规则如下：
- 歌曲名 - 艺术家
- 歌曲名 - 艺术家1&艺术家2&更多

> 例如：
>
> ”11 - 邓紫棋.flac“
>
> ”11 - 邓紫棋.webp“ -- 可选，存在就作为封面显示
> 
> 歌曲名：”11“
>
> 艺术家：”邓紫棋“
>
> ”Easy Come Easy Go - 蔡健雅&MC HotDog.mp3“
> 
> ”Easy Come Easy Go - 蔡健雅&MC HotDog.jpg“ -- 常用的图片格式都可以
> 
> 歌曲名：”Easy Come Easy Go“
>
> 艺术家：”蔡健雅;MC HotDog“

## 通用排序规则
从 A 到 z 排序。针对中文歌曲名，则以每个字的拼音首字母从 A 到 z 排序。

## 播放列表
本应用支持 3 种播放列表：[全部歌曲](#全部歌曲)、[艺术家和歌曲](#艺术家和歌曲)、[心动歌曲](#心动歌曲)。

> ### 全部歌曲
> 支持首字母快速定位，支持英文首字母、拼音首字母；支持关键字筛选。
> 
> ### 艺术家和歌曲
> 定位、筛选规则与[全部歌曲](#全部歌曲)一样，先选艺术家，后选歌曲。特别说明，多艺术家歌曲（其实就是合唱歌曲），满足上面[歌曲名和艺术家信息的识别](#歌曲名和艺术家信息的识别)规则的情况下，会拆分为多个艺术家显示，均能定位到该歌曲。
> > 例如：
> > 
> > ”Easy Come Easy Go - 蔡健雅&MC HotDog.mp3“
> > 
> > 将会出现2个艺术家
> > - 蔡健雅
> > - MC HotDog
> > 
> > 无论进入哪一位艺术家的歌曲列表，都会出现”Easy Come Easy“这个歌曲。
> > 
> ### 心动歌曲
> 歌曲有一个评分，暂称为【心动指数】，评分越高，排名越前。
> 
> 具体规则如下：
> 
> 1、~~主动从歌曲列表中选择的歌曲，评分+1；~~
> 
> 1、在播放界面中，点击左下角评分按钮后，评分+1；
> 
> 2、主动切歌~~到上/下一歌曲~~/选歌，并听~~完整首歌曲~~到最后30秒，评分+1。
> 
> 3、当前歌曲播放前 15 秒切走该歌曲，评分-1；
> 
> 4、点击播放列表中歌曲的更多按钮，点击【重置心动指数】可以清零。

## 播放模式
包含循环模式、重复模式、[随机模式](#随机模式)。

> ### 随机模式
> 在设置页中，可以设置【随机播放不重复】的数量，默认是 100 首，也就说，随机模式下切歌最近 100 首内不会出现重复的歌曲。

## 延时停止播放
支持2小时以内延时停止播放，支持播放完当前歌曲再停止。

## 导出/导入心动数据
心动数据可以备份和转移；另外，重新扫描目录，原来的心动数据不会丢失。

## 最后
本应用暂时只有安卓端。

> 未来。。。也许会支持。。。

## 版本日志

### v0.10.3

新增：
- 当前播放列表显示定位
- 列表定位当前歌曲的按钮
- 列表显示歌手

### v0.10.1

新增：
- 播放过的歌曲时长更新和显示
- 生成随机当前播放列表、显示随机列表
- 当前播放列表独立，可插入（下一首播放）歌曲、移除歌曲

修复：
- 扫描进度有误
- 补充点击震动

优化：
- 优化信息显示、按钮位置
- 优化列表按钮位置、图标
- 状态化艺术家、播放列表的歌曲列表
- 优化歌曲列表弹出卡顿
- 文件损坏播放终止，提示损坏位置

调整：
- 移除随机播放设置项
- 当前播放列表不再显示播放列表名称（因为当前播放列表可以编辑）

### v0.9.2

新增: 支持3种匹配歌曲信息
- 歌曲名 - 艺术家1;艺术家2
- 艺术家1;艺术家2 - 歌曲名
- ID3（前2种方式识别失败后都会尝试 ID3 方式）

### v0.8.8

修复: 横屏时摄像头遮挡按钮

### v0.8.7

修复: 播放模式横竖切换状态丢失

### v0.8.6

优化：替换通知组件

### v0.8.5

修复: 切换横竖的时候恢复列表状态

调整: 歌曲列表切换歌曲关闭窗口

调整: 歌曲列表切换歌曲关闭窗口

调整: 调整心动加分逻辑
> 主动切歌不马上加分，至少听到最后30秒。

### v0.8.3

修复: 按钮颜色不一致

### v0.8.2

新增: 播放页面补充添加到播放列表按钮

### v0.8.1

修复: 修复播放列表导入异常

### v0.8.0

新增：自定义播放列表
> 自定义播放列表及其歌曲可以长按调整顺序

<img width="1449" height="527" alt="image" src="https://github.com/user-attachments/assets/6892da62-c59a-4747-87dc-97c8298c5a9d" />

新增：feat: 播放15秒后，上一首操作使歌曲重新播放。

优化：优化、修复若干细节

### v0.7.9

优化: 重构歌曲、艺术家列表，更好适配横屏

修复: 艺术家列表样式异常

### v0.7.8

修复: 列表按钮位置横屏异常

### v0.7.7

修复: 单向播放结束后切换状态

### v0.7.6

图标更新

### v0.7.5

修复: 修正关键词匹配，支持拼音首字母匹配

修复: 首次进入App扫描目录后没有刷新歌曲列表

新增: 通知栏推送播放失败情况，播放失败后自动播放下一首

修复: 应用图标异常

### v0.7.2

修复：隐藏工具栏不稳定

### v0.7.1

新增：播放页长按心动按钮可以重置该歌曲

### v0.7.0

新增：轻度适配横屏模式

新增：清空数据入口

新增：支持中英文切换

调整：一些提示和文案调整

![Screenshot_2025-08-25-17-12-12-11_a17349a9ab8e7918c0ec2c3decfbc1da_副本](https://github.com/user-attachments/assets/c389b608-fc71-4ad9-ba8e-bfa62705aceb)

![Screenshot_2025-08-25-17-04-52-81_a17349a9ab8e7918c0ec2c3decfbc1da_副本](https://github.com/user-attachments/assets/a6a3700d-2099-4d97-8566-5db6edd60173)

### v0.6.0

新增：单向播放模式

### v0.5.5

优化：更细的定时间隔

优化：提示损坏的歌曲名

### v0.5.4

修复：定时停止播放出现误判文件损坏

### v0.5.3

修复：首字母定位支持数字

### v0.5.2

优化：重构音乐库列表显示，移除心动列表的播放时间的显示

优化：首字母快速定位栏高亮当前字母

![Aug-22-2025 17-15-18](https://github.com/user-attachments/assets/68d58ad3-31fb-47bf-a2ca-58196d821bd8)

### v0.4.5

修复: 播放列表滚动优化

优化: 高亮正在播放歌曲

### v0.4.1

修复：减少重复的音频文件损坏报错

新增：匹配并显艺术家示头像

> 在扫描目录下，新建一个名为 Artists 的目录（注意大小写），头像图片文件以艺术家命名，支持 webp/jpg/jpeg/png（推荐在 Apple Music 提取 webp 图片），例如：
>
> 蔡依林.webp
> 周杰伦.webp

![Screenshot_2025-08-20-17-20-08-89_a17349a9ab8e7918c0ec2c3decfbc1da_副本](https://github.com/user-attachments/assets/f520028c-ea55-41f5-bf99-22cedd731b63)

<img width="286" height="645" alt="image" src="https://github.com/user-attachments/assets/6d28c4a3-8526-43fd-8f7c-c3ee56edb044" />

### v0.3.3

修复：错误/损坏音频文件导致崩溃，识别并提示

- 错误的音频文件，导致播放失败
- 损坏的音频文件，导致播放终止

<img width="436" height="480" alt="image" src="https://github.com/user-attachments/assets/6dc7c450-1e3a-4052-af8c-21674bbebaac" />

优化：播放页面隐藏状态栏

### v0.3.2

修复: 随机算法边界处理

### v0.3.1

修复: 权限请求兼容就安卓版本

优化: 兼容一下较低分辨率

修复: 优化随机算法

新增: 支持逐行歌词文件

![Screenshot_2025-08-19-11-28-05-23_a17349a9ab8e7918c0ec2c3decfbc1da_副本](https://github.com/user-attachments/assets/76027468-cabc-475c-acd4-057560bd366f)

致敬这个棒棒的歌词下载工具：[LDDC](https://github.com/chenmozhijin/LDDC)

### v0.2.1

新增: 主动切歌后在该歌曲结束前30秒切歌也能加分

新增: 底栏播放按钮效果

![Screenshot_2025-08-17-08-43-26-98_1814146aa54f3461d48406888cea7a6a_副本](https://github.com/user-attachments/assets/bb3e2c0a-485d-4e89-8728-05c68017a318)

新增: 封面改为扫描时识别、列表增加封面的显示

![Screenshot_2025-08-17-08-45-08-89_1814146aa54f3461d48406888cea7a6a_副本](https://github.com/user-attachments/assets/1b417d46-99bb-47eb-a5fd-50ca2bcdf0f1)

修复：减少卡顿

### v0.1.1

修复: 艺术家歌曲列表快速定位异常、无效的定时设置。

新增: 按钮添加震动、定时显示倒计时。

### v0.1.0

首次发布版本：v0.1.0
